

sql:
create table public.admin (
  admin_id uuid not null default gen_random_uuid (),
  created_at timestamp with time zone not null default now(),
  email text null,
  "profileImage" text null,
  "fullName" text null,
  city text null,
  locality text null,
  "pinCode" text null,
  state text null,
  constraint admin_pkey primary key (admin_id),
  constraint admin_admin_id_fkey foreign KEY (admin_id) references auth.users (id)
) TABLESPACE pg_default;

create table public.banners (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  image text null,
  constraint banners_pkey primary key (id)
) TABLESPACE pg_default;

create table public.business_accounts (
  id uuid not null default gen_random_uuid (),
  created_at timestamp with time zone not null default now(),
  company_name text null,
  company_number text null,
  address text null,
  nid_owner text null,
  user_id uuid null,
  profile_picture_url text null,
  about text null,
  categories text[] null,
  tags text[] null,
  status text not null default 'pending'::text,
  requested_at timestamp with time zone null default now(),
  reviewed_at timestamp with time zone null,
  email text null,
  balance double precision null default '0'::double precision,
  constraint business_accounts_pkey primary key (id),
  constraint business_accounts_user_id_fkey foreign KEY (user_id) references buyers (uid)
) TABLESPACE pg_default;

create table public.buyers (
  uid uuid not null,
  created_at timestamp with time zone null default now(),
  email text not null,
  "fullName" text not null,
  "profileImage" text null,
  city text null,
  locality text null,
  "pinCode" text null,
  state text null,
  update_at timestamp with time zone null default now(),
  constraint buyers_pkey primary key (uid),
  constraint buyers_uid_fkey foreign KEY (uid) references auth.users (id) on delete CASCADE
) TABLESPACE pg_default;

create table public.categories (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  category_name text null,
  category_image text null,
  constraint categories_pkey primary key (id),
  constraint categories_category_name_key unique (category_name),
  constraint categories_category_name_uniq unique (category_name)
) TABLESPACE pg_default;

create table public.orders (
  id uuid not null default gen_random_uuid (),
  created_at timestamp with time zone not null default now(),
  "productName" text null,
  "productId" bigint null,
  size text null,
  quantity bigint null,
  price double precision null,
  category text null,
  "productImage" text null,
  "buyerId" uuid null default gen_random_uuid (),
  "fullName" text null,
  email text null,
  locality text null,
  state text null,
  delivered boolean null default false,
  "deliveriedCount" bigint null default '0'::bigint,
  processing boolean null default true,
  city text null,
  seller_id uuid null,
  constraint orders_pkey primary key (id),
  constraint orders_buyerId_fkey foreign KEY ("buyerId") references buyers (uid),
  constraint orders_productId_fkey foreign KEY ("productId") references products ("productId"),
  constraint orders_seller_id_fkey foreign KEY (seller_id) references business_accounts (id)
) TABLESPACE pg_default;

create table public.products (
  "productId" bigint generated by default as identity not null,
  category bigint not null,
  description text null,
  discount numeric null,
  "productImage" text[] null,
  "productName" text not null,
  "productPrice" numeric null,
  created_at timestamp with time zone not null,
  updated_at timestamp with time zone not null,
  "productSize" text null,
  quantity bigint not null default '1'::bigint,
  "totalReviews" real null default '0'::real,
  rating real null default '0'::real,
  seller_id uuid null,
  constraint products_pkey primary key ("productId"),
  constraint products_category_fkey foreign KEY (category) references categories (id),
  constraint products_seller_id_fkey foreign KEY (seller_id) references business_accounts (id)
) TABLESPACE pg_default;

create table public.reviews (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  "orderId" uuid null,
  "productId" bigint null,
  "buyerId" uuid null,
  rating real null,
  comment text null,
  email text null,
  "fullName" text null,
  updated_at timestamp with time zone null default now(),
  constraint reviews_pkey primary key (id),
  constraint reviews_buyerId_fkey foreign KEY ("buyerId") references buyers (uid),
  constraint reviews_orderId_fkey foreign KEY ("orderId") references orders (id),
  constraint reviews_productId_fkey foreign KEY ("productId") references products ("productId")
) TABLESPACE pg_default;


